(function(t){function e(e){for(var i,a,c=e[0],l=e[1],r=e[2],u=0,h=[];u<c.length;u++)a=c[u],o[a]&&h.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,r||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"15ac":function(t,e,n){"use strict";var i=n("934c"),o=n.n(i);o.a},1636:function(t,e,n){},2856:function(t,e,n){},"46ee":function(t,e,n){"use strict";var i=n("ffd5"),o=n.n(i);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[t._v("simple flowchart")]),n("simple-flowchart",{attrs:{horizontalStyle:t.horizontalStyle,scene:t.scene,height:800},on:{"update:horizontalStyle":function(e){t.horizontalStyle=e},"update:scene":function(e){t.scene=e},"not-allowed":t.teste,nodeDelete:t.nodeDelete,linkBreak:t.linkBreak,linkAdded:t.linkAdded,canvasClick:t.canvasClick}})],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flowchart-container",on:{mousemove:t.handleMove,mouseup:t.handleUp,mousedown:t.handleDown}},[n("div",{staticClass:"tool-wrapper"},t._l(t.nodeCategory,function(e,i){return n("div",{key:i,staticClass:"config-tool",attrs:{value:i},on:{click:function(n){t.chosedNodes(e,i)}}},[0==i?n("div",{staticClass:"button-end"}):t._e(),1==i?n("div",{staticClass:"button-end-workflow"},[n("div")]):t._e()])})),n("svg",{attrs:{width:"100%",height:t.height+"px",tabindex:"0"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete"])?t.removeItems(e):null}}},t._l(t.lines,function(e,i){return n("flowchart-link",t._b({key:"link"+i,attrs:{label:e.label,linking:t.action.linking,selectedLine:t.selectedLine.selectedLine},on:{changeLineSelect:function(n){t.linkLabel(e,n)},linkSelected:function(n){t.linkSelected(e,n)}}},"flowchart-link",e,!1,!0))})),t._l(t.scene.nodes,function(e,i){return n("flowchart-node",t._b({key:"node"+i,attrs:{options:t.nodeOptions,consultMode:t.consultOn},on:{"update:type":function(t){e.type=t},linkingStart:function(n){t.linkingStart(e.id,e.type)},linkingStop:function(n){t.linkingStop(e.id,e.type)},nodeSelected:function(n){t.nodeSelected(e.id,n,e)},nodeTransition:function(e){t.nodeTransition()}}},"flowchart-node",e,!1,!0))})],2)},c=[],l=(n("f751"),n("20d6"),n("8afe")),r=(n("7514"),n("9393")),d=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{on:{click:function(e){t.linkSelect(e)},dblclick:t.changeLink}},[n("defs",[n("marker",{attrs:{id:"arrow",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse"}},[n("path",{attrs:{d:"M 0 0 L 10 5 L 0 10 z"}})])]),n("path",{style:t.pathStyle,attrs:{d:t.dAttr,"marker-end":"url(#arrow)"}}),n("a",[n("text",{attrs:{"text-anchor":"middle",transform:t.horizontal?t.textTransformHorizontal:t.textTransform,"font-size":"22"}},[t._v(t._s(t.text))])])])}),u=[],h={name:"FlowchartLink",props:{label:{type:String,default:function(){return this.text}},start:{type:Array,default:function(){return[0,0]}},end:{type:Array,default:function(){return[0,0]}},type:{type:String,default:function(){return"Default"}},id:Number,horizontal:Boolean,linking:Boolean,selectedLine:{type:Boolean,default:function(){return!1}},dragLine:Number},data:function(){return{text:this.label,line:this.dragLine,select:this.selectedLine,show:{delete:!1}}},methods:{linkSelect:function(t){this.show.delete=!0,this.id&&this.$emit("linkSelected",t)},handleMouseOver:function(){this.id&&(this.show.delete=!0)},handleMouseLeave:function(){this.show.delete=!1,this.select=!1},caculateCenterPoint:function(){var t=(this.end[0]-this.start[0])/2,e=(this.end[1]-this.start[1])/2;return[this.start[0]+t,this.start[1]+e]},caculateBottomPoint:function(){var t=(this.end[0]-this.start[0])/2,e=(this.end[1]-this.start[1])/2;return[this.start[0]+t,e]},caculateRotation:function(){var t=-Math.atan2(this.end[0]-this.start[0],this.end[1]-this.start[1]),e=180*t/Math.PI;return e<0?e+360:e},changeLink:function(){this.text=prompt()},deleteLink:function(){this.$emit("deleteLink")}},watch:{text:function(){this.$emit("changeLineLabel",this.text)},select:function(){this.$emit("changeLineSelected",this.select)}},computed:{pathStyle:function(){return{stroke:this.select?"rgb(2, 136, 8)":"rgb(255, 136, 85)",strokeWidth:2.73205,fill:"none"}},arrowStyle:function(){return{stroke:"rgb(255, 136, 85)",strokeWidth:5.73205,fill:"none"}},arrowTransform:function(){var t=this.caculateBottomPoint(),e=Object(r["a"])(t,2),n=e[0],i=e[1],o=this.caculateRotation();return"translate(".concat(n,", ").concat(i,") rotate(").concat(o,")")},arrowTransformHorizontal:function(){var t=this.caculateCenterPoint(),e=Object(r["a"])(t,2),n=e[0],i=e[1];this.caculateRotation();return"translate(".concat(n,", ").concat(i+25,")")},textTransform:function(){var t=this.caculateCenterPoint(),e=Object(r["a"])(t,2),n=e[0],i=e[1],o=n,s=this.caculateRotation();return"translate(".concat(o,", ").concat(i,") rotate(").concat(s," )")},textTransformHorizontal:function(){var t=this.caculateCenterPoint(),e=Object(r["a"])(t,2),n=e[0],i=e[1],o=n;this.caculateRotation();return"translate(".concat(o,", ").concat(i,")")},changeTransform:function(){var t=this.caculateCenterPoint(),e=Object(r["a"])(t,2),n=e[0],i=e[1],o=i+35,s=this.caculateRotation();return"translate(".concat(n,", ").concat(o,") rotate(").concat(s,")")},changeTransformHorizontal:function(){var t=this.caculateCenterPoint(),e=Object(r["a"])(t,2),n=e[0],i=e[1],o=i;this.caculateRotation();return"translate(".concat(n,", ").concat(o,")")},compText:function(){var t=this.text;return this.$props.label="".concat(t)},dAttr:function(){if(this.horizontal){var t=this.start[0],e=this.start[1]-45,n=(this.linking,this.end[0]),i=this.linking?this.end[1]:this.end[1]+33,o=t,s=e,a=n,c=i,l=(o+a)/2;return o<a?"Action"===this.type||"Join"===this.type||"Decision"===this.type?"M ".concat(t,", ").concat(e," H ").concat(Math.round(l),".").concat(o,", V ").concat(c,",").concat(i," H ").concat(n-70):"End"===this.type||"endWorkflow"===this.type?"M ".concat(t,", ").concat(e," H ").concat(Math.round(l),".").concat(o,", V ").concat(c,",").concat(i-5," H ").concat(n-40):"M ".concat(t,", ").concat(e," H ").concat(Math.round(l),".").concat(o,", V ").concat(c,",").concat(i," H ").concat(n):(e=this.start[1],"M".concat(o," ").concat(s,"  V").concat(this.dragLine?s+this.dragLine:s," H").concat(a," V").concat(c+50))}var r=this.start[0],d=this.start[1]-10,u=this.end[0],h=this.end[1],f=r,p=d+50,m=u,v=h-50;return"M ".concat(r,", ").concat(d," C ").concat(f,", ").concat(p,", ").concat(m,", ").concat(v,", ").concat(u,", ").concat(h)}}},f=h,p=(n("46ee"),n("2877")),m=Object(p["a"])(f,d,u,!1,null,"767c5b25",null);m.options.__file="FlowchartLink.vue";var v=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.options.transition,expression:"options.transition"}],staticClass:"node-delete color"}),"Start"!==t.type&&"End"!==t.type&&"EndWorkflow"!==t.type?n("div",{staticClass:"flowchart-node flowchart-actions",class:{full:t.options.transition,selected:t.options.selected===t.id,horizontal:t.options.horizontal},style:t.nodeStyle,on:{mousedown:t.handleMousedown,mouseover:t.handleMouseOver,mouseleave:t.handleMouseLeave,dblclick:t.handleContent,contextmenu:function(e){t.menu(e)}}},[t.show.menu?n("div",{staticClass:"contextMenu",attrs:{id:"context-menu"}},[n("ul",[n("li",{class:{active:"Decision"===t.actionType},on:{click:function(e){t.actionType="Decision"}}},[n("p",[t._v("Decisão")])]),n("li",{class:{active:"Join"===t.actionType},on:{click:function(e){t.actionType="Join"}}},[n("p",[t._v("Junção")])]),n("li",{class:{active:"Action"===t.actionType},on:{click:function(e){t.actionType="radio"}}},[n("p",[t._v("Ação")])])])]):t._e(),t.consultMode?t._e():n("div",{staticClass:"node-port node-input top",on:{mousedown:t.inputMouseDown,mouseup:t.inputMouseUp}}),t.consultMode?t._e():n("div",{staticClass:"node-port node-input left",on:{mousedown:t.inputMouseDown,mouseup:t.inputMouseUp}}),n("div",{staticClass:"node-main node-delete"},["Join"===t.type?n("div",{staticClass:"node-type-icon"},[t._v("🞅")]):t._e(),"Decision"===t.type?n("div",{staticClass:"node-type-icon"},[t._v("✖")]):t._e(),n("div",{staticClass:"node-label",domProps:{textContent:t._s(t.label)}})]),t.consultMode?t._e():n("div",{staticClass:"node-port node-output right",on:{mousedown:t.outputMouseDown}}),t.consultMode?t._e():n("div",{staticClass:"node-port node-output bottom",on:{mousedown:t.outputMouseDown}})]):t._e(),n("div",["Start"===t.type?n("div",{staticClass:"flowchart-node flowchart-start",class:{selected:t.options.selected===t.id,horizontal:t.options.horizontal},style:t.startStyle,on:{mousedown:t.handleMousedown,mouseover:t.handleMouseOver,mouseleave:t.handleMouseLeave}},[n("div",{staticClass:"node-main"},[n("div",{staticClass:"node-label"}),t.consultMode?t._e():n("div",{staticClass:"node-port node-output",on:{mousedown:t.outputMouseDown}})])]):t._e()]),"End"===t.type?n("div",{staticClass:"flowchart-node flowchart-end",class:{selected:t.options.selected===t.id,horizontal:t.options.horizontal},style:t.endStyle,on:{mousedown:t.handleMousedown,mouseover:t.handleMouseOver,mouseleave:t.handleMouseLeave}},[t.consultMode?t._e():n("div",{staticClass:"node-port node-input",on:{mousedown:t.inputMouseDown,mouseup:t.inputMouseUp}}),n("div",{staticClass:"node-main"})]):t._e(),"EndWorkflow"===t.type?n("div",{staticClass:"flowchart-node flowchart-end-workflow",class:{selected:t.options.selected===t.id,horizontal:t.options.horizontal},style:t.endStyle,on:{mousedown:t.handleMousedown,mouseover:t.handleMouseOver,mouseleave:t.handleMouseLeave}},[t.consultMode?t._e():n("div",{staticClass:"node-port node-input",on:{mousedown:t.inputMouseDown,mouseup:t.inputMouseUp}}),t._m(0)]):t._e()])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"node-main"},[n("div",{staticClass:"node-label"},[t._v("⏺")])])}],k={name:"FlowchartNode",props:{id:{type:Number,default:1e3,validator:function(t){return"number"===typeof t}},x:{type:Number,default:0,validator:function(t){return"number"===typeof t}},y:{type:Number,default:0,validator:function(t){return"number"===typeof t}},type:{type:String,default:"Default"},label:{type:String,default:"input name"},rotate:{type:Number,default:0},disabled:{type:Boolean,default:!1},consultMode:{type:Boolean,default:!1},options:{type:Object,default:function(){return{centerX:1024,scale:1,centerY:140,rotate:90,width:400}}}},data:function(){return{actionType:this.type,show:{delete:!1,fullContent:!1,menu:!1}}},watch:{type:function(t){this.$emit("update:type",t)},actionType:function(t){this.type=t}},mounted:function(){},computed:{nodeStyle:function(){return this.show.fullContent?{top:this.options.centerY-2+this.y*this.options.scale+"px",left:this.options.centerX-160+this.x*this.options.scale+"px",transform:"scale(".concat(this.options.scale,")"),width:this.options.width+"px"}:{top:this.options.centerY-2+this.y*this.options.scale+"px",left:this.options.centerX-20+this.x*this.options.scale+"px",transform:"scale(".concat(this.options.scale,")"),width:"120px"}},startStyle:function(){return{top:this.options.centerY-2+this.y*this.options.scale+"px",left:this.options.centerX+15+this.x*this.options.scale+"px",transform:"scale(".concat(this.options.scale,")")}},endStyle:function(){return{top:this.options.centerY+this.y*this.options.scale+"px",left:this.options.centerX+15+this.x*this.options.scale+"px",transform:"scale(".concat(this.options.scale,")")}}},methods:{menu:function(t){var e=this;t.preventDefault(),this.show.menu=!0,window.addEventListener("click",function(){e.show.menu=!1})},handleContent:function(){this.show.fullContent?(this.$emit("nodeTransition"),this.show.fullContent=!1,this.$emit("canvasClick")):(this.$emit("nodeTransition"),this.show.fullContent=!0)},handleMousedown:function(t){var e=t.target||t.srcElement;e.className.indexOf("node-input")<0&&e.className.indexOf("node-output")<0&&this.$emit("nodeSelected",t),t.preventDefault()},handleMouseOver:function(){this.show.delete=!0},handleMouseLeave:function(){this.show.delete=!1},outputMouseDown:function(t){this.$emit("linkingStart"),t.preventDefault()},inputMouseDown:function(t){t.preventDefault()},inputMouseUp:function(t){this.$emit("linkingStop"),t.preventDefault()}}},w=k,b=(n("c9ca"),Object(p["a"])(w,g,y,!1,null,"1944a2f6",null));b.options.__file="FlowchartNode.vue";var x=b.exports;function L(t){var e=t.getBoundingClientRect(),n=window.pageYOffset,i=window.pageXOffset,o=e.top+n,s=e.left+i;return{top:Math.round(o),left:Math.round(s)}}function M(t,e){var n=e.pageX||e.clientX+document.documentElement.scrollLeft,i=e.pageY||e.clientY+document.documentElement.scrollTop,o=L(t),s=n-o.left,a=i-o.top;return[s,a]}var S={name:"VueFlowchart",props:{nodesAction:{type:Object,default:function(){return{}}},scene:{type:Object,default:function(){return{centerX:1024,scale:1,centerY:140,nodes:[],links:[]}}},height:{type:Number,default:400},horizontalStyle:{type:Boolean,default:!1},consult:{type:Boolean,default:!1},nodeSelected:{type:Object,default:{}}},data:function(){return{newNodeType:0,newNodeLabel:"",consultOn:this.consult,nodeCategory:["End","EndWorkflow"],action:{linking:!1,dragging:!1,scrolling:!1,selected:0,transition:!1},item:{text:""},mouse:{x:0,y:0,lastX:0,lastY:0},offset:150,draggingLink:null,selectedLine:{},selectedNode:this.nodeSelected,rootDivOffset:{top:0,left:0}}},components:{FlowchartLink:v,FlowchartNode:x},watch:{selectedNode:function(){this.$emit("update:nodeSelected",this.selectedNode)}},computed:{nodeOptions:function(){return{centerY:this.scene.centerY,centerX:this.scene.centerX,scale:this.scene.scale,offsetTop:this.rootDivOffset.top,offsetLeft:this.rootDivOffset.left,selected:this.selectedNode.id,width:400,transition:this.action.transition,horizontal:this.horizontalStyle}},lines:function(){var t=this,e=this.scene.links.map(function(e){var n,i,o,s,a,c,l=t.findNodeWithID(e.from),d=t.findNodeWithID(e.to);n=t.scene.centerX+l.x,i=t.scene.centerY+l.y;var u=t.getPortPosition("bottom",n,i),h=Object(r["a"])(u,2);s=h[0],o=h[1],n=t.scene.centerX+d.x,i=t.scene.centerY+d.y;var f=t.getPortPosition("top",n,i),p=Object(r["a"])(f,2);return a=p[0],c=p[1],{start:[s,o],end:[a,c],id:e.id,label:e.label,from:l,horizontal:t.horizontalStyle,dragLine:t.offset,selectedLine:!1,type:e.type}});if(this.draggingLink){var n,i,o,s,a=this.findNodeWithID(this.draggingLink.from);n=this.scene.centerX+a.x,i=this.scene.centerY+a.y;var c=this.getPortPosition("bottom",n,i),l=Object(r["a"])(c,2);s=l[0],o=l[1],e.push({start:[s,o],end:[this.draggingLink.mx,this.draggingLink.my],label:"",horizontal:this.horizontalStyle,dragLine:200})}return e}},mounted:function(){this.rootDivOffset.top=this.$el?this.$el.offsetTop:0,this.rootDivOffset.left=this.$el?this.$el.offsetLeft:0},methods:{removeItems:function(){null!=this.action.selected?this.deleteNodeButtom():this.deleteButtom()},deleteButtom:function(){this.linkDelete(this.selectedLine.id)},deleteNodeButtom:function(){this.nodeDelete(this.selectedNode.id),this.selectedNode={}},nodeDelete:function(t){if(!this.consultOn){var e=this.scene.nodes.find(function(t){return t.id});e["disabled"]=!1,this.scene.nodes=this.scene.nodes.filter(function(e){return e.id!==t}),this.scene.links=this.scene.links.filter(function(e){return e.to!==t}),this.scene.links=this.scene.links.filter(function(e){return e.from!==t}),this.$emit("nodeDelete",t)}},linkLabel:function(t,e){var n=this.scene.links.find(function(e){return e.id===t.id});n&&(n.label=e)},linkSelected:function(t,e){this.selectedLine=t,this.selectedLine.selectedLine=!0,this.$props.selectedLine=this.selectedLine.selectedLine},chosedNodes:function(t,e){this.newNodeType=e,this.addNode()},addNode:function(){var t=Math.max.apply(Math,this.scene.nodes.map(function(t){return t.id}));this.scene.nodes.push({id:t+1,x:-400,y:50,type:this.nodeCategory[this.newNodeType],label:this.newNodeLabel?this.newNodeLabel:"test".concat(t+1)})},findNodeWithID:function(t){return this.scene.nodes.find(function(e){return t===e.id})},getPortPosition:function(t,e,n){return"top"===t?[e+40,n]:"bottom"===t?[e+40,n+80]:void 0},linkingStart:function(t,e){this.action.linking=!0,this.draggingType=e,this.draggingLink={from:t,mx:0,my:0,dragLine:0}},linkingStop:function(t,e){var n=this;if(this.draggingLink&&this.draggingLink.from!==t){var i=this.scene.links.find(function(e){return e.from===n.draggingLink.from&&e.to===t});if("Decision"===e&&(i=this.scene.links.find(function(e){return e.to===t})),i)this.$emit("not-allowed");else{var o=Math.max.apply(Math,[0].concat(Object(l["a"])(this.scene.links.map(function(t){return t.id}))));console.log(e);var s={id:o+1,from:this.draggingLink.from,to:t,type:e},a=this.scene.nodes.find(function(t){return t.id===n.draggingLink.from}),c=(this.scene.links.map(function(t){return t.from}),a.disabled);"Start"===this.draggingType&&("Action"===e?c?this.$emit("not-allowed"):(a["disabled"]=!0,this.scene.links.push(s),this.$emit("linkAdded",s)):this.$emit("not-allowed")),"Action"===this.draggingType&&(c?c&&"Action"===e?(this.scene.links.push(s),this.$emit("linkAdded",s)):this.$emit("not-allowed"):(a["disabled"]=!0,this.scene.links.push(s),this.$emit("linkAdded",s))),"Join"===this.draggingType&&("Action"!==e?this.$emit("not-allowed"):c&&"Action"===e?this.$emit("not-allowed"):(a["disabled"]=!0,this.scene.links.push(s),this.$emit("linkAdded",s))),"Decision"===this.draggingType&&("Join"===e||"Decision"===e?this.$emit("not-allowed"):(this.scene.links.push(s),this.$emit("linkAdded",s)))}}this.draggingLink=null},linkDelete:function(t){if(!this.consultOn){var e=this.scene.links.find(function(e){return e.id===t}),n=this.scene.nodes.find(function(t){return t.id===e.from}),i=this.scene.nodes.find(function(t){return t.id===e.to});e&&(this.scene.links=this.scene.links.filter(function(e){return e.id!==t}),this.selectedLine={},"Join"===i.type||"Decision"===i.type||"End"===i.type||"EndWorkflow"===i.type?(n["disabled"]=!1,this.$emit("linkBreak",e)):"Start"===n.type||"Action"===n.type?n["disabled"]=!1:this.$emit("linkBreak",e))}},nodeTransition:function(){var t=this;this.action.transition=!this.action.transition,setTimeout(function(){t.action.transition=!1},500)},nodeSelected:function(t,e,n){this.selectedNode=n,this.action.selected=n.id,this.action.dragging=t,this.$emit("nodeClick",t),this.mouse.lastX=e.pageX||e.clientX+document.documentElement.scrollLeft,this.mouse.lastY=e.pageY||e.clientY+document.documentElement.scrollTop},handleMove:function(t){if(this.action.linking){var e=M(this.$el,t),n=Object(r["a"])(e,2);this.mouse.x=n[0],this.mouse.y=n[1];var i=[this.mouse.x,this.mouse.y];this.draggingLink.mx=i[0],this.draggingLink.my=i[1]}if(this.action.dragging){this.mouse.x=t.pageX||t.clientX+document.documentElement.scrollLeft,this.mouse.y=t.pageY||t.clientY+document.documentElement.scrollTop;var o=this.mouse.x-this.mouse.lastX,s=this.mouse.y-this.mouse.lastY;this.mouse.lastX=this.mouse.x,this.mouse.lastY=this.mouse.y,this.moveSelectedNode(o,s)}if(this.action.scrolling){var a=M(this.$el,t),c=Object(r["a"])(a,2);this.mouse.x=c[0],this.mouse.y=c[1];var l=this.mouse.x-this.mouse.lastX,d=this.mouse.y-this.mouse.lastY;this.mouse.lastX=this.mouse.x,this.mouse.lastY=this.mouse.y,this.scene.centerX+=l,this.scene.centerY+=d}if(this.selectedLine.selectedLine){this.action.scrolling=!1,this.mouse.x=t.pageX||t.clientX+document.documentElement.scrollLeft,this.mouse.y=t.pageY||t.clientY+document.documentElement.scrollTop;this.mouse.x,this.mouse.lastX,this.mouse.y,this.mouse.lastY;this.mouse.lastX=this.mouse.x,this.mouse.lastY=this.mouse.y,this.moveSelectedLine(this.mouse.y)}},handleUp:function(t){var e=t.target||t.srcElement;this.$el.contains(e)&&("string"!==typeof e.className||e.className.indexOf("node-input")<0)&&(this.draggingLink=null),this.action.linking=!1,this.action.dragging=null,this.action.scrolling=!1,this.selectedLine.selectedLine=!1},handleDown:function(t){var e=t.target||t.srcElement;if(console.log("for scroll",e,t.keyCode,t.which),(e===this.$el||e.matches("svg, svg *"))&&1===t.which){this.action.scrolling=!0;var n=M(this.$el,t),i=Object(r["a"])(n,2);this.mouse.lastX=i[0],this.mouse.lastY=i[1],console.log(M(this.$el,t)),this.action.selected=null}this.selectedLine.selectedLine=!1,this.selectedLine={},this.$emit("canvasClick",t)},moveSelectedLine:function(t){var e=this,n=(this.scene.links.findIndex(function(t){return t.id===e.selectedLine.id}),t/this.scene.scale);this.offset=n},moveSelectedNode:function(t,e){var n=this,i=this.scene.nodes.findIndex(function(t){return t.id===n.action.dragging}),o=this.scene.nodes[i].x+t/this.scene.scale,s=this.scene.nodes[i].y+e/this.scene.scale;this.$set(this.scene.nodes,i,Object.assign(this.scene.nodes[i],{x:o,y:s}))}}},_=S,C=(n("15ac"),Object(p["a"])(_,a,c,!1,null,"b16efe90",null));C.options.__file="SimpleFlowchart.vue";var O=C.exports,$={name:"app",components:{SimpleFlowchart:O},data:function(){return{horizontalStyle:!0,scene:{centerX:1024,centerY:140,scale:1,nodes:[{id:9999999,x:-700,y:-139,type:"Start",label:"Start",disabled:!1},{id:2,x:-700,y:0,type:"Action",label:"test1",disabled:!1},{id:5987569,x:-700,y:0,type:"Action",label:"Mano",disabled:!1,width:400},{id:60,x:-700,y:0,type:"Action",label:"Este e um texto gigante para 5 linhas, gigante para 5 linhas, gigante para 5 linhas ",disabled:!1,width:400},{id:52,x:-700,y:0,type:"Action",label:"linhas ",disabled:!1,width:400},{id:3248,x:-357,y:80,type:"Decision",label:"decisáo",disabled:!1},{id:5796,x:-557,y:80,type:"Join",label:"test1",disabled:!1}],links:[]}}},methods:{teste:function(){alert("Operação não permitida app")},canvasClick:function(t){console.log("canvas Click, event:",t)},nodeClick:function(t){},nodeDelete:function(t){},linkBreak:function(t){},linkAdded:function(t){}}},D=$,N=(n("5c0b"),Object(p["a"])(D,o,s,!1,null,null,null));N.options.__file="App.vue";var T=N.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(T)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("2856"),o=n.n(i);o.a},"934c":function(t,e,n){},c9ca:function(t,e,n){"use strict";var i=n("1636"),o=n.n(i);o.a},ffd5:function(t,e,n){}});
//# sourceMappingURL=app.88e14f0e.js.map